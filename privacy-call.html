<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Incoming Call</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            height: 100%;
            overflow: hidden;
            background: #1c1c1e;
        }

        .iphone-call {
            width: 100%;
            height: 100vh;
            height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 4rem 2rem 3rem;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', sans-serif;
        }

        .call-info {
            text-align: center;
            margin-top: 4rem;
        }

        .caller-name {
            font-size: 2.5rem;
            margin-bottom: 0.75rem;
            font-weight: 400;
        }

        .call-status {
            font-size: 1.125rem;
            color: #a1a1a1;
            font-weight: 400;
        }

        .call-actions {
            display: flex;
            gap: 4rem;
            margin-bottom: 3rem;
        }

        .call-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: #fff;
        }

        .action-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .action-label {
            font-size: 0.875rem;
            color: #a1a1a1;
        }

        .slide-to-answer {
            width: 100%;
            max-width: 350px;
            height: 70px;
            background: rgba(120, 120, 128, 0.36);
            border-radius: 35px;
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
            user-select: none;
        }

        .slide-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 1.15rem;
            white-space: nowrap;
            pointer-events: none;
        }

        .slide-word {
            font-weight: 600;
        }

        .to-word {
            opacity: 0.6;
        }

        .slide-button {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #34c759, #30d158);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: grab;
            touch-action: none;
            z-index: 2;
        }
    </style>
</head>
<body>
    <div class="iphone-call">
        <div class="call-info">
            <div class="caller-name">ðŸ‘¾</div>
            <div class="call-status">answer quickly</div>
        </div>
        <div class="call-actions">
            <div class="call-action">
                <div class="action-icon">ðŸ””</div>
                <div class="action-label">Remind Me</div>
            </div>
            <div class="call-action">
                <div class="action-icon">ðŸ’¬</div>
                <div class="action-label">Message</div>
            </div>
        </div>
        <div class="slide-to-answer" id="slideToAnswer">
            <div class="slide-text" id="slideText">
                <span class="slide-word">slide</span> <span class="to-word">to answer</span>
            </div>
            <div class="slide-button" id="slideButton">ðŸ“ž</div>
        </div>
    </div>

    <script>
        const slider = document.getElementById('slideToAnswer');
        const button = document.getElementById('slideButton');
        const text = document.getElementById('slideText');
        let isDragging = false;
        let startX = 0;
        let currentX = 0;

        const handleStart = (e) => {
            isDragging = true;
            startX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
            button.style.transition = 'none';
        };

        const handleMove = (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const clientX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
            const deltaX = clientX - startX;
            const maxSlide = slider.offsetWidth - button.offsetWidth - 10;
            currentX = Math.max(0, Math.min(deltaX, maxSlide));
            button.style.left = currentX + 'px';
            text.style.opacity = 1 - (currentX / maxSlide);

            if (currentX > maxSlide * 0.8) {
                answerCall();
            }
        };

        const handleEnd = () => {
            if (!isDragging) return;
            isDragging = false;
            button.style.transition = 'left 0.3s ease';
            button.style.left = '5px';
            text.style.opacity = 1;
        };

        const answerCall = () => {
            isDragging = false;
            window.location.href = 'privacy-reveal.html';
        };

        button.addEventListener('mousedown', handleStart);
        document.addEventListener('mousemove', handleMove);
        document.addEventListener('mouseup', handleEnd);
        button.addEventListener('touchstart', handleStart);
        document.addEventListener('touchmove', handleMove, { passive: false });
        document.addEventListener('touchend', handleEnd);
    </script>
</body>
</html>
